<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Attendance Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="side-bar">
        <h1 style="color: black;">Attendance Tracker</h1>
        <div class="class-switcher">
            <button onclick="switchClass('3A')" class="temp">3A</button>
            <button onclick="switchClass('3B')">3B</button>
        </div>
        <input type="text" id="searchInput" placeholder="Search roll number..." oninput="searchRoll()">
        <div class="instructions">
            <div>
                <kbd>Enter</kbd> to mark <span class="absent-text">Absent</span>
            </div>
            <div>
                <kbd>Tab</kbd> to mark <span class="present-text">Present</span>
            </div>
            </p>
        </div>
        <button class="temp1" id="toggle-btn" id="darkModeBtn" onclick="toggleDarkMode()">Dark Mode</button>
    </div>
    <div class="main">
    <div id="currentRoll"></div>
    <div class="student-list" id="studentList"></div>
    <div class="absent-bar">
        <input type="text" id="copyText" readonly placeholder="Absent roll numbers...">
        <input type="text" id="filenamePrefix" placeholder="File prefix (e.g., Absent)" value="Absent">
        <button id="copyBtn" onclick="copyToClipboard()"><i class="fas fa-copy"></i> Copy</button>
        <button id="downloadBtn" onclick="downloadTxtFile()"><i class="fas fa-download"></i> Download TXT</button>
    </div>
	
    <script>
        let currentClass = '3A';
        let rollPointer = 0;
        let absentRolls = [];
        let students = [];
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            document.activeElement.blur();
            const highlighted = document.querySelector('.highlight');
            if (highlighted) {
                highlighted.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        const class3AData = [
            { rollNo: 101, name: "Jiya Kyada" },
            { rollNo: 102, name: "Shah Dhvani Hitesh" },
            { rollNo: 103, name: "Saraya Mohit Haresh" },
            { rollNo: 104, name: "Zalavadiya Heet Siddharth" },
            { rollNo: 105, name: "Darshil Dobariya" },
            { rollNo: 106, name: "Nafisa Gandhi" },
            { rollNo: 107, name: "Vasani Yashvi Niteshbhai" },
            { rollNo: 108, name: "Delvadiya Manavkumar Kirtibhai" },
            { rollNo: 109, name: "Ashara Palak Gopalbhai" },
            { rollNo: 110, name: "Lunagariya Greshi Kamleshbhai" },
            { rollNo: 111, name: "Nanavati Shrushti Gargesh" },
            { rollNo: 112, name: "Ranpara Jay Manishbhai" },
            { rollNo: 113, name: "Disha Mehta" },
            { rollNo: 114, name: "Thummar Niraj Bhaveshbhai" },
            { rollNo: 115, name: "Kachhava Nakul Umeshbhai" },
            { rollNo: 116, name: "Kanabar Urva Darshanbhai" },
            { rollNo: 117, name: "Nakar Dhruvil Hitesh" },
            { rollNo: 118, name: "Poshiya Priyanshi Ajaybhai" },
            { rollNo: 119, name: "Baravalia Dharitri Manharbhai" },
            { rollNo: 120, name: "Muchhara Kashish Hiteshbhai" },
            { rollNo: 121, name: "Chauhan Aditya Sureshbhai" },
            { rollNo: 122, name: "Harsora Sakshi Ajaybhai" },
            { rollNo: 123, name: "Katrodiya Sahil Rajeshbhai" },
            { rollNo: 124, name: "Trambadiya Parikshit Parimalbhai" },
            { rollNo: 125, name: "Padariya Preya Parasbhai" },
            { rollNo: 126, name: "Gambhava Krushiben Manojbhai" },
            { rollNo: 127, name: "Jadeja Vishwrajsinh Krushnasinh" },
            { rollNo: 128, name: "Patel Jiya Sandipbhai" },
            { rollNo: 129, name: "Pipalava Smit Ashvinbhai" },
            { rollNo: 130, name: "Gohil Harshrajsinh Jitendrasinh" },
            { rollNo: 131, name: "Kathiriya Arshi Keshubhai" },
            { rollNo: 132, name: "Undhad Vishwa Rajesh" },
            { rollNo: 133, name: "Diya Raiyani" },
            { rollNo: 134, name: "Chavda Maulik Vinodbhai" },
            { rollNo: 135, name: "Chavda Priyanka Prabodhbhai" },
            { rollNo: 136, name: "Chavda Virendrasinh Ashwinbhai" },
            { rollNo: 137, name: "Galani Krunal Chetanbhai" },
            { rollNo: 138, name: "Kavar Suchi Vasantbhai" },
            { rollNo: 139, name: "Odedara Nilesh Parbat" },
            { rollNo: 140, name: "Vasani Dishita Nikhilkumar" },
            { rollNo: 141, name: "Vachhani Vaishvi Manojkumar" },
            { rollNo: 142, name: "Bhadania Ronit Yatinbhai" },
            { rollNo: 143, name: "Chauhan Jenil Virenbhai" },
            { rollNo: 144, name: "Virpara Krisha Rajeshbhai" },
            { rollNo: 145, name: "Chandra Darshit Hiteshbhai" },
            { rollNo: 146, name: "Detroja Ruchit Arvindbhai" },
            { rollNo: 147, name: "Kapuriya Hepin Pravinbhai" },
            { rollNo: 148, name: "Gohel Smit Ashvinbhai" },
            { rollNo: 149, name: "Patel Kirtan Amitbhai" },
            { rollNo: 150, name: "Ginoya Deep Kantilal" },
            { rollNo: 151, name: "Marvaniya Jainish Dharmendrabhai" },
            { rollNo: 152, name: "Ajudiya Yash Nareshbhai" },
            { rollNo: 153, name: "Manas Borisagar" },
            { rollNo: 154, name: "Joshi Soham Kamleshbhai" },
            { rollNo: 155, name: "Kakadiya Khilan Manishbhai" },
            { rollNo: 156, name: "Sidhdhapura Dhaval Dharmeshbhai" },
            { rollNo: 157, name: "Sitapara Aryan Sunilbhai" },
            { rollNo: 158, name: "Bhatasana Nainshi Pareshbhai" },
            { rollNo: 159, name: "Malvaniya Viraj Jatinbhai" },
            { rollNo: 160, name: "Tanisha Pambhar" },
            { rollNo: 161, name: "Padshala Kuldeep Rajendrakumar" },
            { rollNo: 162, name: "Bhimani Vishva Manishbhai" },
            { rollNo: 163, name: "Karan Anushka Pintubhai" },
            { rollNo: 164, name: "Vyas Kavya Sachin" },
            { rollNo: 165, name: "Kamani Purna Hareshbhai" },
            { rollNo: 166, name: "Mori Nandita Renishkumar" },
            { rollNo: 167, name: "Ratanghayra Pankti Himanshu" },
            { rollNo: 168, name: "Rupala Nikhil Kashmeeraben" },
            { rollNo: 169, name: "Jadeja Shivrajsinh Girirajsinh" },
            { rollNo: 170, name: "Hirva Satani" },
            { rollNo: 171, name: "Raiyani Jenil Sanjaybhai" },
            { rollNo: 172, name: "Chandpa Prince Sureshbhai" },
            { rollNo: 173, name: "Faldu Vrajesh Sanjaybhai" },
            { rollNo: 174, name: "Khambholiya Manya Parasharbhai" },
            { rollNo: 175, name: "Prajapati Kaivalya Samir" },
            { rollNo: 176, name: "Moral Aadit Shaileshbhai" },
            { rollNo: 177, name: "Shihora Vibhu Chetanbhai" },
            { rollNo: 178, name: "Kanani Kruti Jayeshbhai" },
            { rollNo: 179, name: "Karoliya Princekumar Sandipbhai" },
            { rollNo: 180, name: "Khunt Rutvi Hiteshbhai" },
            { rollNo: 181, name: "Charadva Abhishek Virenbhai" },
            { rollNo: 182, name: "Dave Krisha Kalpeshbhai" },
            { rollNo: 183, name: "Janvi Kalaria" },
            { rollNo: 184, name: "Rajwani Rohan Malik" },
            { rollNo: 185, name: "Rana Parthrajsinh Bhupatsinh" },
            { rollNo: 186, name: "Solanki Ronak Arvindbhai" },
            { rollNo: 187, name: "Panchal Vedantkumar Niravbhai" },
            { rollNo: 188, name: "Ambasana Venisha Hitenbhai" },
            { rollNo: 189, name: "Raichura Smeet Rohitkumar" },
            { rollNo: 190, name: "Gambhava Mirali Sureshbhai" },
            { rollNo: 191, name: "Dave Dhruv Viralkumar" },
            { rollNo: 192, name: "Ghetiya Ritu Pankajbhai" },
            { rollNo: 193, name: "Radhanpara Saumya Jatinbhai" },
            { rollNo: 194, name: "Yadav Gaurav Kaushikbhai" },
            { rollNo: 195, name: "Buddhadev Misri Sanjaybhai" },
            { rollNo: 196, name: "Joshi Kairav Paren" },
            { rollNo: 197, name: "Savaliya Dhruvi Bharatbhai" },
            { rollNo: 198, name: "Radhanpura Jeel Nimish" },
            { rollNo: 199, name: "Savaliya Priyanshi Sureshbhai" },
            { rollNo: 200, name: "Zala Bhavyadeepsinh Pruthvirajsinh" },
            { rollNo: 201, name: "Sinha Milankumar Sujitkumar" },
            { rollNo: 202, name: "Lakhtaria Kevin Homin" },
            { rollNo: 203, name: "Moliya Kartavya Bhaveshbhai" },
            { rollNo: 204, name: "Monpara Nij Hareshbhai" },
            { rollNo: 205, name: "Divya Thakar" },
            { rollNo: 206, name: "Mendapara Piyu Amishbhai" },
            { rollNo: 207, name: "Pandya Karan Tusharbhai" },
            { rollNo: 208, name: "Raval Meet Mohitkumar" },
            { rollNo: 209, name: "Virpariya Heer Manishbhai" },
            { rollNo: 210, name: "Bhanushali Hiral Bhaven" },
            { rollNo: 211, name: "Kamaliya Akashkumar Rameshbhai" },
            { rollNo: 212, name: "Popat Honey Nileshbhai" },
            { rollNo: 213, name: "Badrakiya Meet Bharatbhai" },
            { rollNo: 214, name: "Kanani Kavit Nareshbhai" },
            { rollNo: 215, name: "Ambaliya Manan Jayeshbhai" },
            { rollNo: 216, name: "Hinsu Umang Bharatbhai" },
            { rollNo: 217, name: "Kakaniya Bhavy Niteshbhai" },
            { rollNo: 218, name: "Padia Kartik Balkrishna" },
            { rollNo: 219, name: "Mankada Hasan Shabbirhusain" },
            { rollNo: 220, name: "Mehta Dhairy Kalpeshbhai" },
            { rollNo: 221, name: "Mehta Het Lalitkumar" },
            { rollNo: 222, name: "Kahan Sanghani" },
            { rollNo: 223, name: "Gotani Himesh Sanjaybhai" },
            { rollNo: 224, name: "Narola Yash Nileshbhai" },
            { rollNo: 225, name: "Targata Dharmishtha Arjanbhai" },
            { rollNo: 226, name: "Bhuva Tirth Shaileshbhai" },
            { rollNo: 227, name: "Jadeja Yashraj Lakhdhirsinh" },
            { rollNo: 228, name: "Krisha Pujara" },
            { rollNo: 229, name: "Varsani Ritul Hirji" },
            { rollNo: 230, name: "Parmar Dhyey Dharmendra" },
            { rollNo: 231, name: "Shingala Mansi Rajeshbhai" },
            { rollNo: 232, name: "Dobariya Jeel Upendrabhai" },
            { rollNo: 233, name: "Khant Mannkumar Jigneshbhai" },
            { rollNo: 234, name: "Yadav Neel Hiteshbhai" },
            { rollNo: 235, name: "Andodariya Yash Maheshbhai" },
            { rollNo: 236, name: "Hirani Jeelkumar Sanjaybhai" },
            { rollNo: 237, name: "Mankad Shyamsundar Mitbhai" },
            { rollNo: 238, name: "Agavan Rohan Farukbhai" },
            { rollNo: 239, name: "Bhadja Zeel Satishkumar" },
            { rollNo: 240, name: "Shreya Vijaybhai Bhundia" },
            { rollNo: 241, name: "Aghara Keyur Hiteshbhai" },
            { rollNo: 242, name: "Buddhadev Deep Nitinbhai" },
            { rollNo: 243, name: "Godham Meet Maheshbhai" },
            { rollNo: 244, name: "Katariya Trisha Ashvinbhai" },
            { rollNo: 245, name: "Vekariya Jay Bipinbhai" },
            { rollNo: 246, name: "Rutvi Gautami" },
            { rollNo: 247, name: "Sankaliya Aryan Ashokbhai" },
            { rollNo: 248, name: "Ghadiya Yashvi Sanjaybhai" },
            { rollNo: 249, name: "Ved Chatvani" },
            { rollNo: 250, name: "Ghorai Swati Sanjib" },
            { rollNo: 251, name: "Karena Radhika Bharatbhai" },
            { rollNo: 252, name: "Pandya Kruti Tusharbhai" },
            { rollNo: 253, name: "Patel Tejkumar Niteshbhai" },
            { rollNo: 254, name: "Sagpariya Mahee Nitinbhai" },
            { rollNo: 255, name: "Sherasiya Shyam Sureshbhai" },
            { rollNo: 256, name: "Liya Hirvita Rajendra" },
            { rollNo: 257, name: "Ahir Krishna Manishbhai" },
            { rollNo: 258, name: "Parmar Devanshu Gopalbhai" },
            { rollNo: 259, name: "Tivari Astha Sureshbhai" },
            { rollNo: 260, name: "Pal Kana Odedra" },
            { rollNo: 261, name: "Sorathiya Nabhag Sanjaybhai" },
            { rollNo: 262, name: "Chauhan Vishal Girishbhai" },
            { rollNo: 263, name: "Kuchhadiya Vanita Bhima" },
            { rollNo: 264, name: "Bhimani Naman Chiragbhai" },
            { rollNo: 265, name: "Diyora Miraj Bhaveshbhai" },
            { rollNo: 266, name: "Gajera Rakshit Ketanbhai" },
            { rollNo: 267, name: "Parmar Darpan Jitendra" },
            { rollNo: 268, name: "Trivedi Manan Vijaykumar" },
            { rollNo: 269, name: "Dave Maharshi Kirtikumar" },
            { rollNo: 270, name: "Param Rameshbhai Kotadiya" },
            { rollNo: 271, name: "Patel Archi Pradipbhai" },
            { rollNo: 272, name: "Saradhara Yug Vrajbhushanbhai" },
            { rollNo: 273, name: "Padhariya Ruturajsinh Sureshbhai" },
            { rollNo: 274, name: "Vegad Jenil Ashokbhai" },
            { rollNo: 275, name: "Patani Kismatbanu Shahidbhai" },
            { rollNo: 276, name: "Savaliya Jinesh Kantilal" },
            { rollNo: 277, name: "Tank Darshan Chetanbhai" },
            { rollNo: 278, name: "Ghodasara Dev Ketanbhai" },
            { rollNo: 279, name: "Pithadiya Yash Devendrabhai" },
            { rollNo: 280, name: "Gohel Jenil Amitkumar" }
        ];
        const class3BData = [
            { rollNo: 301, name: "Javiya Nirali Ramjibhai" },
            { rollNo: 302, name: "Kothadia Jal Hiteshkumar" },
            { rollNo: 303, name: "Parmar Bhavik Arjanbhai" },
            { rollNo: 304, name: "Ramani Manav Satishbhai" },
            { rollNo: 305, name: "Rathod Paras Ravibhai" },
            { rollNo: 306, name: "Chauhan Smit Hasmukhbhai" },
            { rollNo: 307, name: "Lunagariya Tirth Jayeshbhai" },
            { rollNo: 308, name: "Bhatti Jiya Pankajbhai" },
            { rollNo: 309, name: "Dhaduk Vandan Dipakbhai" },
            { rollNo: 310, name: "Khorajiya Mahir Mustufa" },
            { rollNo: 311, name: "Dangar Naimish Hasmukhbhai" },
            { rollNo: 312, name: "Sureja Vrunda Sumitbhai" },
            { rollNo: 313, name: "Manek Malay Rishibhai" },
            { rollNo: 314, name: "Raiyani Vishva Nileshbhai" },
            { rollNo: 315, name: "Santoki Sakshiben Devendrabhai" },
            { rollNo: 316, name: "Solanki Naimisha Ganeshbhai" },
            { rollNo: 317, name: "Taraviya Krutagn Dilipkumar" },
            { rollNo: 318, name: "Bhatti Hardvi Rajendrabhai" },
            { rollNo: 319, name: "Dobariya Rutvi Rasikbhai" },
            { rollNo: 320, name: "Gohel Darshan Kishorbhai" },
            { rollNo: 321, name: "Siddhpura Vrinda Nileshbhai" },
            { rollNo: 322, name: "Somaiya Nihal Dipak" },
            { rollNo: 323, name: "Vala Harsiddhiba Jayvirsinh" },
            { rollNo: 324, name: "Rankja Khushi Satishbhai" },
            { rollNo: 325, name: "Shingala Jina Dilipbhai" },
            { rollNo: 326, name: "Shingala Dharmik Dharmeshbhai" },
            { rollNo: 327, name: "Parsana Shubham Pareshbhai" },
            { rollNo: 328, name: "Mendpara Krishaben Hasmukhbhai" },
            { rollNo: 329, name: "Barevadiya Devarsh Harikrushnabhai" },
            { rollNo: 330, name: "Gopani Mitsu Bharatbhai" },
            { rollNo: 331, name: "Jamod Kashika Pravinbhai" },
            { rollNo: 332, name: "Kalola Hill Kishorbhai" },
            { rollNo: 333, name: "Pipaliya Meet Bharatbhai" },
            { rollNo: 334, name: "Sadhu Kuldeep Harshadkumar" },
            { rollNo: 335, name: "Dhandha Aayushi Sanatbhai" },
            { rollNo: 336, name: "Jadeja Riddhiba Jayendrasinh" },
            { rollNo: 337, name: "Kanjariya Radhika Mukeshbhai" },
            { rollNo: 338, name: "Joshi Vivek Bhaveshbhai" },
            { rollNo: 339, name: "Dashadiya Yash Kishorbhai" },
            { rollNo: 340, name: "Kanzariya Krunal Pravinbhai" },
            { rollNo: 341, name: "Jodhani Dhruvbhai Rajeshkumar" },
            { rollNo: 342, name: "Shivang Nandani" },
            { rollNo: 343, name: "Rangani Arpit Dilipbhai" },
            { rollNo: 344, name: "Ghodasara Yashvi Dhirajlal" },
            { rollNo: 345, name: "Rakhasiya Nikhil Hasmukhbhai" },
            { rollNo: 346, name: "Dhamsaniya Princyben Ashokbhai" },
            { rollNo: 347, name: "Tirth Gamara" },
            { rollNo: 348, name: "Mahek Patel" },
            { rollNo: 349, name: "Kasundra Prakruti Sanjaybhai" },
            { rollNo: 350, name: "Kacha Param Sanjay" },
            { rollNo: 351, name: "Sorathiya Mann Ashvinbhai" },
            { rollNo: 352, name: "Vansajaliya Ankit Hemantbhai" },
            { rollNo: 353, name: "Fultariya Om" },
            { rollNo: 354, name: "Manvar Hemil Rakeshbhai" },
            { rollNo: 355, name: "Detroja Ujjwal Narendrabhai" },
            { rollNo: 356, name: "Hinsu Vraj Devjibhai" },
            { rollNo: 357, name: "Vala Prashantkumar Maheshbhai" },
            { rollNo: 358, name: "Jadeja Manvendrasinh Jaydeepsinh" },
            { rollNo: 359, name: "Meghani Rishita Narendrabhai" },
            { rollNo: 360, name: "Hirani Tulsiben Rohitbhai" },
            { rollNo: 361, name: "Makwana Shraddha Shaileshbhai" },
            { rollNo: 362, name: "Bhalala Het Lalitbhai" },
            { rollNo: 363, name: "Chotaliya Jenish Ashokbhai" },
            { rollNo: 364, name: "Detroja Sharadkumar Dilipbhai" },
            { rollNo: 365, name: "Kardani Prince Vipulbhai" },
            { rollNo: 366, name: "Ughreja Dax Ashokbhai" },
            { rollNo: 367, name: "Khambhala Tarkesh Vallabhbhai" },
            { rollNo: 368, name: "Sodha Kashwiniba Lakhansinh" },
            { rollNo: 369, name: "Vachhani Janvi Avinashbhai" },
            { rollNo: 370, name: "Dave Hetvi Gopalbhai" },
            { rollNo: 371, name: "Padia Harsh Jitendrabhai" },
            { rollNo: 372, name: "Umretiya Kush Bharatbhai" },
            { rollNo: 373, name: "Khokhar Dhruvi Govind" },
            { rollNo: 374, name: "Parmar Anirudhdha Govindbhai" },
            { rollNo: 375, name: "Bhimani Jeel Yogeshbhai" },
            { rollNo: 376, name: "Patel Neel Sanjaykumar" },
            { rollNo: 377, name: "Mehta Sneha Ashvinbhai" },
            { rollNo: 378, name: "Parekh Bhargav Sanjaybhai" },
            { rollNo: 379, name: "Sakariya Mihir Kishorbhai" },
            { rollNo: 380, name: "Gondaliya Shrijal Jayeshkumar" },
            { rollNo: 381, name: "Makvana Rutvik Kalpeshbhai" },
            { rollNo: 382, name: "Dodiya Riya Darshanbhai" },
            { rollNo: 383, name: "Limbasiya Deep Pareshbhai" },
            { rollNo: 384, name: "Parmar Dhruvi Nareshbhai" },
            { rollNo: 385, name: "Vishva Thesiya" },
            { rollNo: 386, name: "Dave Dhruv Yogeshkumar" },
            { rollNo: 387, name: "Lakkad Devisbhai Arvindbhai" },
            { rollNo: 388, name: "Dalsaniya Yashvi Jayeshkumar" },
            { rollNo: 389, name: "Bhuva Shivam Ashwinbhai" },
            { rollNo: 390, name: "Malaviya Mitul Mukeshbhai" },
            { rollNo: 391, name: "Solanki Aryan Valjibhai" },
            { rollNo: 392, name: "Vora Rudra Girishbhai" },
            { rollNo: 393, name: "Solanki Vishal Rameshbhai" },
            { rollNo: 394, name: "Vyas Jinal Amitbhai" },
            { rollNo: 395, name: "Savaliya Tirth Navnitbhai" },
            { rollNo: 396, name: "Vasani Daksh Nikhilkumar" },
            { rollNo: 397, name: "Kantesaria Pari Romalbhai" },
            { rollNo: 398, name: "Baraiya Yash Nileshbhai" },
            { rollNo: 399, name: "Goswami Rudra Nileshgar" },
            { rollNo: 400, name: "Ladani Mann Snehalbhai" },
            { rollNo: 401, name: "Parmar Uday Jagdishbhai" },
            { rollNo: 402, name: "Parsaniya Dhruvkumar Jayendrabhai" },
            { rollNo: 403, name: "Vagh Dhavalbhai Nareshbhai" },
            { rollNo: 404, name: "Ghoniya Vrunda Dilipbhai" },
            { rollNo: 405, name: "Sankhavara Prayag Mansukhlal" },
            { rollNo: 406, name: "Gohel Kuldeep Kishorbhai" },
            { rollNo: 407, name: "Bhoraniya Priya Sureshbhai" },
            { rollNo: 408, name: "Bajadiya Om Bhupatbhai" },
            { rollNo: 409, name: "Ghardeshiya Man Ashokbhai" },
            { rollNo: 410, name: "Harkhani Ronak Prafulbhai" },
            { rollNo: 411, name: "Aryansinh Lalakia" },
            { rollNo: 412, name: "Mendapara Utpal Shaileshbhai" },
            { rollNo: 413, name: "Bechra Diya Jayesh" },
            { rollNo: 414, name: "Mathakiya Navfal Kutbudin" },
            { rollNo: 415, name: "Kamaliya Manaliben Dineshbhai" },
            { rollNo: 416, name: "Vaghera Vaidika Hinaben" },
            { rollNo: 417, name: "Dave Krisha Satyakam" },
            { rollNo: 418, name: "Markana Nisarg Maheshbhai" },
            { rollNo: 419, name: "Bagda Sandipkumar Danabhai" },
            { rollNo: 420, name: "Vora Preet Chetankumar" },
            { rollNo: 421, name: "Dhamsaniya Dhvani Kishorbhai" },
            { rollNo: 422, name: "Mungara Meet Vithalbhai" },
            { rollNo: 423, name: "Hinsu Maitri Dipakbhai" },
            { rollNo: 424, name: "Mehta Vatsal Yogeshkumar" },
            { rollNo: 425, name: "Chadamiya Bhavy Babulal" },
            { rollNo: 426, name: "Bavaliya Tushar Pravinbhai" },
            { rollNo: 427, name: "Kotadia Richa Cheritkumar" },
            { rollNo: 428, name: "Chauhan Krutarth Rajubhai" },
            { rollNo: 429, name: "Sheth Harsh Ketanbhai" }
        ];
        function numberToWords(num) {
            const ones = ["", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine"];
            const teens = ["ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen",
                "sixteen", "seventeen", "eighteen", "nineteen"];
            const tens = ["", "", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"];
            if (num < 10) return ones[num];
            if (num < 20) return teens[num - 10];
            if (num < 100) return tens[Math.floor(num / 10)] + (num % 10 ? " " + ones[num % 10] : "");
            if (num < 1000) {
                return ones[Math.floor(num / 100)] + " hundred" +
                    (num % 100 ? " " + numberToWords(num % 100) : "");
            }
            return num.toString();
        }
        const switchClass = (cls) => {
            document.activeElement.blur();
            currentClass = cls;
            const rawList = cls === '3A' ? class3AData : class3BData;
            students = rawList.map(s => ({
                roll: s.rollNo,
                name: s.name,
                status: 'unmarked'
            }));
            rollPointer = 0;
            absentRolls = [];
            document.getElementById('copyText').value = '';
            renderList();
        };
        const renderList = () => {
            const listEl = document.getElementById('studentList');
            const current = students[rollPointer];
            document.getElementById('currentRoll').innerText = `Current Roll No: ${current.roll}`;
            listEl.innerHTML = '';
            students.forEach((s, index) => {
                const div = document.createElement('div');
                div.className = 'student' + (index === rollPointer ? ' highlight' : '');
                div.innerHTML = `<span>${s.roll} - ${s.name}</span><span>${s.status === 'absent' ? '❌' : s.status === 'present' ? '✅' : ''}</span>`;
                listEl.appendChild(div);
            });
            const highlighted = document.querySelector('.highlight');
            if (highlighted) {
                highlighted.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        };
        document.addEventListener('keydown', (e) => {
            if (!students.length) return;
            if (e.key === 'Enter') {
                students[rollPointer].status = 'absent';
                absentRolls.push(students[rollPointer].roll);
                document.getElementById('copyText').value = absentRolls.join(', ');
                rollPointer = Math.min(rollPointer + 1, students.length - 1);
                renderList();
            } else if (e.key === 'Tab') {
    e.preventDefault();
    const roll = students[rollPointer].roll;
    students[rollPointer].status = 'present';
    const index = absentRolls.indexOf(roll);
    if (index !== -1) {
        absentRolls.splice(index, 1); // Remove from absent list
        document.getElementById('copyText').value = absentRolls.join(', ');
    }
    rollPointer = Math.min(rollPointer + 1, students.length - 1);
    renderList();
}

        });
        function copyToClipboard() {
            navigator.clipboard.writeText(document.getElementById('copyText').value)
                .then(() => alert('Copied!'))
                .catch(() => alert('Failed to copy'));
        }
		function downloadTxtFile() {
            if (absentRolls.length === 0) {
                alert('No absent students to download!');
                return;
            }
            // Get filename prefix and sanitize it
            let prefix = document.getElementById('filenamePrefix').value.trim();
            if (!prefix) prefix = 'Absent';
            prefix = prefix.replace(/[^a-zA-Z0-9-_]/g, '_'); // Replace invalid chars with underscore
            // Get current date in YYYY-MM-DD format
            const today = new Date();
            const dateStr = today.toISOString().split('T')[0]; // e.g., "2025-07-08"
            // Create filename
            const filename = `Attendance_${currentClass}_${prefix}_${dateStr}.txt`;
            // Create file content
            const content = `Absent Roll Numbers for Class ${currentClass} on ${dateStr}:\n${absentRolls.join(', ')}`;
            // Create Blob and trigger download
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            alert('File downloaded successfully!');
        }
        function searchRoll() {
            const val = document.getElementById('searchInput').value;
            const index = students.findIndex(s => s.roll.toString() === val);
            if (index !== -1) {
                rollPointer = index;
                renderList();
            }
        }
        switchClass('3A');
    </script>
    </div>
</body>

</html>